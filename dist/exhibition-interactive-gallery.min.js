!function(){var t={};t.f={},t.m={},t.r=function(o){var e=t.m[o];if(e)return e.m.exports;var r=t.f[o];if(r)return e=t.m[o]={},e.exports={},e.m={exports:e.exports},r(e.m,e.exports),e.m.exports},t.f[0]=function(o,e){var r=t.r(1);e.ExhibitionInteractiveGallery=r.default},t.f[1]=function(o,e){var r=this&&this.__assign||Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},i=t.r(2),n=function(){function t(t){var o=this;this.createPictures=function(t){var e=o.canvasEl;o.pictures=t.map(function(t){return new i.default({canvas:e,image:t.img,startX:t.startX,startY:t.startY,width:t.width,height:t.height,topRightOffset:t.topRightOffset,bottomRightOffset:t.bottomRightOffset,borderColor:t.borderColor})}),o.render()},this.initDom(t),this.loadImages(this.getPicturesSortedByZIndex(t.pictures)).then(this.createPictures,this.onImgNotLoaded).catch(function(t){return console.error("loadImages error "+t)})}return t.prototype.getPicturesSortedByZIndex=function(t){return t.sort(function(t,o){return t.zIndex-o.zIndex})},t.prototype.initDom=function(t){var o=t.canvasEl;o instanceof HTMLCanvasElement&&(this.canvasEl=o,this.ctx=o.getContext("2d"))},t.prototype.loadImages=function(t){var o=t.map(function(t){return new Promise(function(o,e){var i=new Image;i.setAttribute("crossOrigin",""),i.onload=function(){o(r({},t,{img:i}))},i.onerror=function(){e('Image "'+t.path+'" error')},i.src=t.path})});return Promise.all(o)},t.prototype.onImgNotLoaded=function(t){console.error("Image not loaded ("+t+")")},t.prototype.render=function(){var t=this,o=t.ctx,e=t.canvasEl;o.clearRect(0,0,e.width,e.height),this.pictures&&this.pictures.forEach(function(t){t.draw()})},t}();e.default=n},t.f[2]=function(o,e){var r=t.r(3),i=t.r(4),n=function(){function t(t){this.options=t,this.calculateValuesFromOptions()}return t.prototype.calculateValuesFromOptions=function(){var t=this.options,o=t.startX,e=t.startY,r=t.width,n=t.height,a=t.topRightOffset,f=t.bottomRightOffset;this.originalCoords={topLeft:new i.default(o,e),topRight:new i.default(o+r,e-a),bottomRight:new i.default(o+r,e+n+f),bottomLeft:new i.default(o,e+n)},this.reflectionCoords={topLeft:new i.default(o,e-f+n+f),topRight:new i.default(o+r,e+n+f),bottomRight:new i.default(o+r,e+n+n+f),bottomLeft:new i.default(o,e+n+n-f-a)}},t.prototype.drawOriginalImage=function(){var t=this.options,o=t.image,e=t.canvas,i=this.originalCoords;r.default(o,e,i.topLeft.x,i.topLeft.y,i.bottomLeft.x,i.bottomLeft.y,i.topRight.x,i.topRight.y,i.bottomRight.x,i.bottomRight.y,!1,!1)},t.prototype.drawReflectionImage=function(){var t=this.options,o=t.image,e=t.canvas,i=this.reflectionCoords;r.default(o,e,i.topLeft.x,i.topLeft.y,i.bottomLeft.x,i.bottomLeft.y,i.topRight.x,i.topRight.y,i.bottomRight.x,i.bottomRight.y,!1,!0)},t.prototype.drawReflectionImageGradient=function(){var t=this.options.canvas,o=this.reflectionCoords,e=t.getContext("2d");e.save();var r=e.createLinearGradient(o.topLeft.x,o.topLeft.y,o.topLeft.x,o.bottomRight.y);r.addColorStop(0,"rgba(0,0,0,0.4)"),r.addColorStop(.2,"rgba(0,0,0,0.8)"),r.addColorStop(.8,"rgba(0,0,0,1)"),e.fillStyle=r,e.beginPath(),e.moveTo(o.topLeft.x,o.topLeft.y),e.lineTo(o.topRight.x,o.topRight.y),e.lineTo(o.bottomRight.x,o.bottomRight.y+1),e.lineTo(o.bottomLeft.x,o.bottomLeft.y+1),e.lineTo(o.topLeft.x,o.topLeft.y),e.fill(),e.closePath(),e.restore()},t.prototype.drawOriginalImageBorder=function(){var t=this.options,o=t.canvas,e=t.borderColor,r=t.borderWidth,i=this.originalCoords,n=o.getContext("2d");n.save(),n.strokeStyle=e,n.lineWidth="number"==typeof r?r:5,n.beginPath(),n.moveTo(i.topLeft.x,i.topLeft.y),n.lineTo(i.topRight.x,i.topRight.y),n.lineTo(i.bottomRight.x,i.bottomRight.y),n.lineTo(i.bottomLeft.x,i.bottomLeft.y),n.lineTo(i.topLeft.x,i.topLeft.y),n.stroke(),n.closePath(),n.restore()},t.prototype.draw=function(){this.drawOriginalImage(),this.drawReflectionImage(),this.drawReflectionImageGradient(),this.drawOriginalImageBorder()},t}();e.default=n},t.f[3]=function(t,o){var e=document.createElement("canvas"),r=e.getContext("2d");o.default=function(t,o,i,n,a,f,s,h,c,d,l,g){var u=t.naturalWidth,p=t.naturalHeight,m=Math.min(i,a,s,c),v=Math.min(n,f,h,d),x=s-i,y=i-m,b=c-a,R=a-m,w=f-n,L=n-v,I=d-h,C=h-v,O=Math.max(x+y,b+R),P=Math.max(w+L,I+C);r.clearRect(0,0,e.width,e.height),e.width=O,e.height=P,r.translate(l?O:0,g?P:0),r.scale(O/u*(l?-1:1),P/p*(g?-1:1)),r.drawImage(t,0,0);for(var T,E,M,S,D=r.getImageData(0,0,O,P).data,B=o.getContext("2d"),G=B.getImageData(m,v,O,P),W=G.data,X=0;X<P;X++)for(var Y=0;Y<O;Y++)M=4*(X*O+Y),T=(y+x*Y/O)*(1-X/P)+(R+b*Y/O)*(X/P),T=Math.round(T),E=(L+w*X/P)*(1-Y/O)+(C+I*X/P)*(Y/O),W[S=4*((E=Math.round(E))*O+T)]=D[M],W[S+1]=D[M+1],W[S+2]=D[M+2],W[S+3]=D[M+3];B.putImageData(G,m,v)}},t.f[4]=function(t,o){var e=function(){return function(t,o){this.x=t,this.y=o}}();o.default=e};var o=t.r(0);if(o)for(var e in o)window[e]=o[e]}();