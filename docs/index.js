!function(){var t={};t.f={},t.m={},t.r=function(o){var e=t.m[o];if(e)return e.m.exports;var i=t.f[o];if(i)return e=t.m[o]={},e.exports={},e.m={exports:e.exports},i(e.m,e.exports),e.m.exports},t.f[0]=function(o,e){var i=t.r(1);e.ExhibitionInteractiveGallery=i.ExhibitionInteractiveGallery;new i.ExhibitionInteractiveGallery({canvasEl:document.getElementById("canvas"),pictures:[{path:"assets/img/Andor Becskei.jpg",startX:5,startY:120,width:155,height:310,topRightOffset:-22,bottomRightOffset:-10,borderColor:"#640AD2",zIndex:40},{path:"assets/img/Andres Agosin.jpg",startX:160,startY:245,width:185,height:128,topRightOffset:-20,bottomRightOffset:-5,borderColor:"#C800C8",zIndex:10},{path:"assets/img/baku maeda.jpg",startX:340,startY:215,width:20,height:175,topRightOffset:-2,bottomRightOffset:-2,borderColor:"#640AD2",zIndex:20},{path:"assets/img/geoff mcfetridge 2.jpg",startX:360,startY:105,width:100,height:305,topRightOffset:5,bottomRightOffset:-2,borderColor:"#C800C8",zIndex:50},{path:"assets/img/James Roper.jpg",startX:460,startY:230,width:195,height:150,topRightOffset:40,bottomRightOffset:20,borderColor:"#640AD2",zIndex:30},{path:"assets/img/isabelle JOUBERT 2.JPG",startX:650,startY:105,width:465,height:310,topRightOffset:100,bottomRightOffset:50,borderColor:"#C800C8",zIndex:60}]})},t.f[1]=function(o,e){var i=t.r(2);e.ExhibitionInteractiveGallery=i.default},t.f[2]=function(o,e){var i=this&&this.__assign||Object.assign||function(t){for(var o,e=1,i=arguments.length;e<i;e++){o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},r=t.r(3),a=function(){function t(t){var o=this;this.createPictures=function(t){var e=o.canvasEl;o.pictures=t.map(function(t){return new r.default({canvas:e,image:t.img,startX:t.startX,startY:t.startY,width:t.width,height:t.height,topRightOffset:t.topRightOffset,bottomRightOffset:t.bottomRightOffset,borderColor:t.borderColor})}),o.render()},this.initDom(t),this.loadImages(this.getPicturesSortedByZIndex(t.pictures)).then(this.createPictures,this.onImgNotLoaded).catch(function(t){return console.error("loadImages error "+t)})}return t.prototype.getPicturesSortedByZIndex=function(t){return t.sort(function(t,o){return t.zIndex-o.zIndex})},t.prototype.initDom=function(t){var o=t.canvasEl;o instanceof HTMLCanvasElement&&(this.canvasEl=o,this.ctx=o.getContext("2d"))},t.prototype.loadImages=function(t){var o=t.map(function(t){return new Promise(function(o,e){var r=new Image;r.setAttribute("crossOrigin",""),r.onload=function(){o(i({},t,{img:r}))},r.onerror=function(){e('Image "'+t.path+'" error')},r.src=t.path})});return Promise.all(o)},t.prototype.onImgNotLoaded=function(t){console.error("Image not loaded ("+t+")")},t.prototype.render=function(){var t=this,o=t.ctx,e=t.canvasEl;o.clearRect(0,0,e.width,e.height),this.pictures&&this.pictures.forEach(function(t){t.draw()})},t}();e.default=a},t.f[3]=function(o,e){var i=t.r(4),r=t.r(5),a=function(){function t(t){this.options=t,this.calculateValuesFromOptions()}return t.prototype.calculateValuesFromOptions=function(){var t=this.options,o=t.startX,e=t.startY,i=t.width,a=t.height,n=t.topRightOffset,s=t.bottomRightOffset;this.originalCoords={topLeft:new r.default(o,e),topRight:new r.default(o+i,e-n),bottomRight:new r.default(o+i,e+a+s),bottomLeft:new r.default(o,e+a)},this.reflectionCoords={topLeft:new r.default(o,e-s+a+s),topRight:new r.default(o+i,e+a+s),bottomRight:new r.default(o+i,e+a+a+s),bottomLeft:new r.default(o,e+a+a-s-n)}},t.prototype.drawOriginalImage=function(){var t=this.options,o=t.image,e=t.canvas,r=this.originalCoords;i.default(o,e,r.topLeft.x,r.topLeft.y,r.bottomLeft.x,r.bottomLeft.y,r.topRight.x,r.topRight.y,r.bottomRight.x,r.bottomRight.y,!1,!1)},t.prototype.drawReflectionImage=function(){var t=this.options,o=t.image,e=t.canvas,r=this.reflectionCoords;i.default(o,e,r.topLeft.x,r.topLeft.y,r.bottomLeft.x,r.bottomLeft.y,r.topRight.x,r.topRight.y,r.bottomRight.x,r.bottomRight.y,!1,!0)},t.prototype.drawReflectionImageGradient=function(){var t=this.options.canvas,o=this.reflectionCoords,e=t.getContext("2d");e.save();var i=e.createLinearGradient(o.topLeft.x,o.topLeft.y,o.topLeft.x,o.bottomRight.y);i.addColorStop(0,"rgba(0,0,0,0.4)"),i.addColorStop(.2,"rgba(0,0,0,0.8)"),i.addColorStop(.8,"rgba(0,0,0,1)"),e.fillStyle=i,e.beginPath(),e.moveTo(o.topLeft.x,o.topLeft.y),e.lineTo(o.topRight.x,o.topRight.y),e.lineTo(o.bottomRight.x,o.bottomRight.y+1),e.lineTo(o.bottomLeft.x,o.bottomLeft.y+1),e.lineTo(o.topLeft.x,o.topLeft.y),e.fill(),e.closePath(),e.restore()},t.prototype.drawOriginalImageBorder=function(){var t=this.options,o=t.canvas,e=t.borderColor,i=t.borderWidth,r=this.originalCoords,a=o.getContext("2d");a.save(),a.strokeStyle=e,a.lineWidth="number"==typeof i?i:5,a.beginPath(),a.moveTo(r.topLeft.x,r.topLeft.y),a.lineTo(r.topRight.x,r.topRight.y),a.lineTo(r.bottomRight.x,r.bottomRight.y),a.lineTo(r.bottomLeft.x,r.bottomLeft.y),a.lineTo(r.topLeft.x,r.topLeft.y),a.stroke(),a.closePath(),a.restore()},t.prototype.draw=function(){this.drawOriginalImage(),this.drawReflectionImage(),this.drawReflectionImageGradient(),this.drawOriginalImageBorder()},t}();e.default=a},t.f[4]=function(t,o){var e=document.createElement("canvas"),i=e.getContext("2d");o.default=function(t,o,r,a,n,s,f,h,g,d,l,p){var c=t.naturalWidth,m=t.naturalHeight,u=Math.min(r,n,f,g),b=Math.min(a,s,h,d),x=f-r,v=r-u,R=g-n,y=n-u,w=s-a,I=a-b,L=d-h,C=h-b,O=Math.max(x+v,R+y),E=Math.max(w+I,L+C);i.clearRect(0,0,e.width,e.height),e.width=O,e.height=E,i.translate(l?O:0,p?E:0),i.scale(O/c*(l?-1:1),E/m*(p?-1:1)),i.drawImage(t,0,0);for(var P,T,X,Y,z=i.getImageData(0,0,O,E).data,D=o.getContext("2d"),G=D.getImageData(u,b,O,E),j=G.data,A=0;A<E;A++)for(var B=0;B<O;B++)X=4*(A*O+B),P=(v+x*B/O)*(1-A/E)+(y+R*B/O)*(A/E),P=Math.round(P),T=(I+w*A/E)*(1-B/O)+(C+L*A/E)*(B/O),j[Y=4*((T=Math.round(T))*O+P)]=z[X],j[Y+1]=z[X+1],j[Y+2]=z[X+2],j[Y+3]=z[X+3];D.putImageData(G,u,b)}},t.f[5]=function(t,o){var e=function(){return function(t,o){this.x=t,this.y=o}}();o.default=e},t.r(0)}();